(()=>{"use strict";var t={979:(t,e)=>{var r;Object.defineProperty(e,"__esModule",{value:!0}),e.Generator=void 0,function(t){t.Wall="#",t.Path=" ",t.Start="P",t.End="E"}(r||(r={}));var i=function(){function t(t,e){this.rows=t,this.columns=e,this.maze=new Array(t).fill(null).map((function(){return new Array(e).fill(r.Wall)}))}return t.prototype.generate=function(t){switch(t){case"backtracking":return this.backtracking();case"prims":return this.primsAlgorithm()}return this.primsAlgorithm()},t.prototype.backtracking=function(){this.initializeGrid();var t=Math.floor(Math.random()*this.rows),e=Math.floor(Math.random()*this.columns);return this.createBacktracking(t,e),this.maze[t][e]=r.Start,this.createEnd(),this.maze},t.prototype.initializeGrid=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.maze[t][e]=r.Wall},t.prototype.createBacktracking=function(t,e){this.maze[t][e]=r.Path;var i=[[0,1],[1,0],[0,-1],[-1,0]];i.sort((function(){return Math.random()-.5}));for(var n=0,o=i;n<o.length;n++){var a=o[n],s=a[0],l=a[1],h=t+2*s,u=e+2*l;h>=0&&h<this.rows&&u>=0&&u<this.columns&&this.maze[h][u]===r.Wall&&(this.maze[t+s][e+l]=r.Path,this.createBacktracking(h,u))}},t.prototype.createEnd=function(){var t=Math.floor(Math.random()*this.rows),e=Math.floor(Math.random()*this.columns);this.maze[t][e]===r.Path?this.maze[t][e]=r.End:this.createEnd()},t.prototype.primsAlgorithm=function(){this.initializeGrid();var t=Math.floor(Math.random()*this.rows),e=Math.floor(Math.random()*this.columns);this.maze[t][e]=r.Path;var i=[];for(i.push([t,e]);i.length>0;){var n=i.pop(),o=n[0],a=n[1],s=this.neighbors(o,a);if(s.length>0){var l=s[Math.floor(Math.random()*s.length)],h=l[0],u=l[1];this.createCorridor(o,a,h,u)}var c=this.getFrontier(o,a);if(0!=c.length)for(var d=0,p=c;d<p.length;d++){var f=p[d],y=f[0],v=f[1];i.push([y,v])}}return this.maze[t][e]=r.Start,this.createEnd(),this.maze},t.prototype.getFrontier=function(t,e){for(var r=[],i=0,n=[[0,2],[2,0],[0,-2],[-2,0]];i<n.length;i++){var o=n[i],a=t+o[0],s=e+o[1];this.isValidFrontier(a,s)&&r.push([a,s])}return r},t.prototype.neighbors=function(t,e){for(var r=[],i=0,n=[[0,2],[2,0],[0,-2],[-2,0]];i<n.length;i++){var o=n[i],a=t+o[0],s=e+o[1];this.isValidPassage(a,s)&&r.push([a,s])}return r},t.prototype.createCorridor=function(t,e,i,n){var o=Math.floor((t+i)/2),a=Math.floor((e+n)/2);this.maze[o][a]=r.Path,this.maze[t][e]=r.Path},t.prototype.isValidPosition=function(t,e){return t>=0&&t<this.rows&&e>=0&&e<this.columns},t.prototype.isValidPassage=function(t,e){return this.isValidPosition(t,e)&&this.maze[t][e]!==r.Wall},t.prototype.isValidFrontier=function(t,e){return this.isValidPosition(t,e)&&this.maze[t][e]===r.Wall},t}();e.Generator=i},631:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Maze=void 0;var i=r(979),n=function(){function t(t,e,r,n){this.solved=!1,this.grid=new i.Generator(t,e).generate(r),this.playerPosition=this.findPlayerPosition(),this.targetElement=n,this.rows=t,this.columns=e}return t.prototype.setWall=function(t,e){this.grid[t][e]="#"},t.prototype.setStart=function(t,e){this.grid[t][e]="S"},t.prototype.setExit=function(t,e){this.grid[t][e]="E"},t.prototype.display=function(){var t=this.grid.map((function(t){return t.map((function(t){return"X"===t?'<span class="solveHighlight">'.concat(t,"</span>"):"P"===t||"E"===t?'<span class="highlight">'.concat(t,"</span>"):t})).join("")})).join("\n");this.targetElement.innerHTML=t},t.prototype.reset=function(){this.grid=this.grid.map((function(t){return t.map((function(t){return"X"===t?" ":t}))})),this.solved=!1},t.prototype.findPlayerPosition=function(){for(var t=0;t<this.grid.length;t++)for(var e=0;e<this.grid[0].length;e++)if("P"===this.grid[t][e])return{row:t,column:e};throw new Error("Player not found")},t.prototype.movePlayer=function(t){var e=this.playerPosition,r=e.row,i=e.column;switch(t){case"W":r>0&&"#"!==this.grid[r-1][i]&&(this.grid[r][i]=" ",this.playerPosition.row-=1);break;case"A":i>0&&"#"!==this.grid[r][i-1]&&(this.grid[r][i]=" ",this.playerPosition.column-=1);break;case"S":r<this.grid.length-1&&"#"!==this.grid[r+1][i]&&(this.grid[r][i]=" ",this.playerPosition.row+=1);break;case"D":i<this.grid[0].length-1&&"#"!==this.grid[r][i+1]&&(this.grid[r][i]=" ",this.playerPosition.column+=1)}"E"===this.grid[this.playerPosition.row][this.playerPosition.column]&&alert("You win!"),this.grid[this.playerPosition.row][this.playerPosition.column]="P"},t}();e.Maze=n},547:function(t,e,r){var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},n=this&&this.__generator||function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.MazeController=void 0;var o=r(631),a=r(368),s=function(){function t(){this.targetElement=document.getElementById("maze-display"),this.initializeButtons(),this.newMaze()}return t.prototype.initializeButtons=function(){var t=this,e=document.getElementById("generate"),r=document.getElementById("solve"),i=document.getElementById("display"),n=document.getElementById("reset"),o=document.getElementById("dfs");e.addEventListener("click",(function(){t.newMaze()})),r.addEventListener("click",(function(){t.solveMaze("astar")})),i.addEventListener("click",(function(){t.solveMaze("astar",!0)})),o.addEventListener("click",(function(){t.solveMaze("dfs")})),n.addEventListener("click",(function(){t.maze.reset(),t.maze.display()})),document.addEventListener("keydown",(function(e){var r=e.key.toUpperCase();["W","A","S","D"].includes(r)&&(t.maze.movePlayer(r),t.maze.display())}))},t.prototype.newMaze=function(){var t=document.getElementById("rows"),e=document.getElementById("columns"),r=this.validateRowAndColInput(t,e),i=this.getRadioValue();this.maze=new o.Maze(r[0],r[1],i,this.targetElement),this.startMaze()},t.prototype.getRadioValue=function(){for(var t=document.getElementsByName("algorithm"),e=0;e<t.length;e++){var r=t[e];if(r.checked)return r.value}return"backtracking"},t.prototype.validateRowAndColInput=function(t,e){return[parseInt(t.value,10)||0,parseInt(e.value,10)||0]},t.prototype.startMaze=function(){this.targetElement&&this.maze&&this.maze.display()},t.prototype.solveMaze=function(t,e){return void 0===e&&(e=!1),i(this,void 0,void 0,(function(){var r;return n(this,(function(i){switch(i.label){case 0:return this.maze.solved?[2]:[4,new a.MazeSolver(this.maze).solveMaze(t,e)];case 1:return r=i.sent(),this.targetElement&&r&&(this.maze.solved=!0,this.maze.grid=r,this.maze.display()),[2]}}))}))},t}();e.MazeController=s},368:function(t,e){var r=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(n,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.MazeSolver=void 0;var n=function(){function t(){this._array=[]}return t.prototype.enqueue=function(t,e){this._array.push({priority:t,value:e}),this._array.sort((function(t,e){return t.priority-e.priority}))},t.prototype.dequeue=function(){return this._array.shift().value},t.prototype.isEmpty=function(){return!this._array.length},t}(),o=function(){this.f=2147483647,this.g=2147483647,this.h=2147483647,this.parent_i=-1,this.parent_j=-1},a=function(){function t(t){this.grid=t.grid,this.maze=t,this.findStartAndEnd()}return t.prototype.findStartAndEnd=function(){for(var t=0;t<this.grid.length;t++)for(var e=0;e<this.grid[t].length;e++)"P"===this.grid[t][e]?(this.startRow=t,this.startCol=e):"E"===this.grid[t][e]&&(this.endRow=t,this.endCol=e)},t.prototype.isInsideGrid=function(t,e){return t>=0&&t<this.grid.length&&e>=0&&e<this.grid[0].length},t.prototype.solveRecursive=function(t,e,n,o){return r(this,void 0,void 0,(function(){var r,a,s,l;return i(this,(function(i){switch(i.label){case 0:return r="".concat(t,",").concat(e),!this.isInsideGrid(t,e)||"#"===this.grid[t][e]||"X"===this.grid[t][e]||o.has(r)?[2,!1]:n?[4,this.delay(20)]:[3,2];case 1:i.sent(),this.maze.display(),i.label=2;case 2:return o.add(r),this.grid[t][e]="X",t===this.endRow&&e===this.endCol?(this.grid[t][e]="E",[2,!0]):[4,this.solveRecursive(t-1,e,n,o)];case 3:return(l=i.sent())?[3,5]:[4,this.solveRecursive(t+1,e,n,o)];case 4:l=i.sent(),i.label=5;case 5:return(s=l)?[3,7]:[4,this.solveRecursive(t,e-1,n,o)];case 6:s=i.sent(),i.label=7;case 7:return(a=s)?[3,9]:[4,this.solveRecursive(t,e+1,n,o)];case 8:a=i.sent(),i.label=9;case 9:return a?[2,!0]:(this.grid[t][e]=" ",[2,!1])}}))}))},t.prototype.aStarAlgorithmo=function(t){return r(this,void 0,void 0,(function(){var e,r,a,s,l,h,u,c,d,p,f,y,v,g,m,w;return i(this,(function(i){switch(i.label){case 0:for(e=[this.startRow,this.startCol],r=[this.endRow,this.endCol],console.log("Start: ".concat(e," End: ").concat(r)),a=new Array(this.maze.rows),s=new Array(this.maze.rows),l=new n,c=0;c<this.maze.rows;c++)for(s[c]=new Array(this.maze.columns).fill(!1),a[c]=new Array(this.maze.columns),d=0;d<this.maze.columns;d++)a[c][d]=new o;a[e[0]][e[1]].f=0,a[e[0]][e[1]].g=0,a[e[0]][e[1]].h=0,a[e[0]][e[1]].parent_i=e[0],a[e[0]][e[1]].parent_j=e[1],h=[[-1,0],[1,0],[0,1],[0,-1]],l.enqueue(0,e),i.label=1;case 1:if(l.isEmpty())return[3,7];u=l.dequeue(),c=u[0],d=u[1],s[c][d]=!0,p=0,f=h,i.label=2;case 2:return p<f.length?(y=f[p],v=[c+y[0],d+y[1]],this.isInsideGrid(v[0],v[1])?this.isEnd(v[0],v[1],r)?(a[v[0]][v[1]].parent_i=c,a[v[0]][v[1]].parent_j=d,[4,this.tracePath(a,r,t)]):[3,4]:[3,5]):[3,6];case 3:return i.sent(),this.grid[this.startRow][this.startCol]="P",this.grid[this.endRow][this.endCol]="E",[2,!0];case 4:s[v[0]][v[1]]||" "!==this.grid[v[0]][v[1]]||(g=a[c][d].g+1,m=this.calculateHValue(v[0],v[1],r),w=g+m,(2147483647==a[v[0]][v[1]].f||a[v[0]][v[1]].f>w)&&(l.enqueue(w,v),a[v[0]][v[1]].f=w,a[v[0]][v[1]].g=g,a[v[0]][v[1]].h=m,a[v[0]][v[1]].parent_i=c,a[v[0]][v[1]].parent_j=d)),i.label=5;case 5:return p++,[3,2];case 6:return[3,1];case 7:return[2,!1]}}))}))},t.prototype.tracePath=function(t,e,n){return r(this,void 0,void 0,(function(){var r,o,a,s;return i(this,(function(i){switch(i.label){case 0:r=e[0],o=e[1],i.label=1;case 1:return t[r][o].parent_i==r&&t[r][o].parent_j==o?[3,4]:(this.grid[r][o]="X",n?[4,this.delay(20)]:[3,3]);case 2:i.sent(),this.maze.display(),i.label=3;case 3:return a=t[r][o].parent_i,s=t[r][o].parent_j,r=a,o=s,[3,1];case 4:return this.grid[r][o]="P",[2]}}))}))},t.prototype.calculateHValue=function(t,e,r){return Math.sqrt(Math.pow(t-r[0],2)+Math.pow(e-r[1],2))},t.prototype.isEnd=function(t,e,r){return t===r[0]&&e===r[1]},t.prototype.solveMaze=function(t,e){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:switch(t){case"dfs":return[3,1];case"astar":return[3,3]}return[3,5];case 1:return[4,this.solveRecursive(this.startRow,this.startCol,e,new Set)];case 2:case 4:return r.sent(),[3,5];case 3:return[4,this.aStarAlgorithmo(e)];case 5:return this.grid[this.startRow][this.startCol]="P",[2,this.grid]}}))}))},t.prototype.delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))},t.prototype.getGrid=function(){return this.grid},t}();e.MazeSolver=a,e.default=a}},e={};new(function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}(547).MazeController)})();